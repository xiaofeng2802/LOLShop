@using Microsoft.AspNet.Identity
@using PagedList.Mvc
@using ThoConShop.DataSeedWork.UserExternalService
@model PagedList.IPagedList<ThoConShop.Business.Dtos.LuckyWheelHistoryDto>

@{
    ViewBag.Title = "LuckyWheel";
    Layout = "~/Views/Shared/_DetailsLayout.cshtml";
}
<link href="~/Content/main.css" rel="stylesheet" />
<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
<script src="~/Scripts/Winwheel.js"></script>
<link href="~/Content/luckyWheel.css" rel="stylesheet" />

<div class="ov-top masthead" style="padding-top: 0px">
    <div class="container text-center">
        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <div id="canvasContainer" align="center">
                   <div class="row">
                       <div class="col-lg-11">
                           <canvas id="canvas" width="600" height="600"></canvas>
                           <div style="margin-bottom: 20px;font-size: 30px;">
                               Tổng số Point bạn hiện có là <span id="currentPoint">@UserExternalService.GetUserPoint(User.Identity.GetUserId()) Point.</span>
                           </div>
                       </div>
                       <div class="col-lg-1" style="margin-top:30%">
                           <div class="flat-slider" id="flat-slider"></div>
                       </div>
                   </div>
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
</div>
<div class="hr"></div>
<div class="container assembly_view">
    <div class="col-md-12">
        <h2 class="c-hero__title u-text-gradient">Lịch Sử Quay Số</h2>
        <div class="row">
            <div class="col-md-12 col-xs-12 col-lg-12 col-sm-12" align="center">
                <table class="table table-responsive">
                    <thead>
                    <tr>
                        <th class="recharge-table-border-bottom">
                            Mã Số
                        </th>
                        <th class="recharge-table-border-bottom">
                            Tài Khoản
                        </th>
                        <th class="recharge-table-border-bottom">
                            Phần Thưởng
                        </th>
                        <th class="recharge-table-border-bottom">
                            Ngày Quay
                        </th>
                    </tr>
                    </thead>
                    @if (Model.Count == 0)
                    {
                        <tbody>
                        <tr>
                            <td colspan="6" class="text-center">
                                <p>Bạn Chưa Có Người Quay Nào</p>
                            </td>
                        </tr>
                        </tbody>
                    }
                    else
                    {
                        <tbody>
                        @foreach (var item in Model)
                        {
                            <tr class="recharge-table-border-top">
                                <td>
                                    @item.Id
                                </td>
                                <td>
                                    @item.NameDisplay
                                </td>
                                <td>
                                    @item.Result
                                </td>
                                <td>
                                    @item.CreatedDate
                                </td>
                            </tr>
                        }
                        </tbody>
                    }

                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 body-pagging">
                @Html.PagedListPager(Model, page => Url.Action("LuckyWheel", new { page }))
            </div>
        </div>
    </div>
</div>
<script src="~/Scripts/Custom/luckyWheel.js"></script> 